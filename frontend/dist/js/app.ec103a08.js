(function(t){function e(e){for(var n,s,l=e[0],c=e[1],r=e[2],u=0,m=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,r||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,l=1;l<a.length;l++){var c=a[l];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var r=0;r<l.length;r++)e(l[r]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"088b":function(t,e,a){"use strict";var n=a("dde7"),o=a.n(n);o.a},"17cc":function(t,e,a){},"18a5":function(t,e,a){"use strict";var n=a("17cc"),o=a.n(n);o.a},"3b92":function(t,e,a){},5221:function(t,e,a){"use strict";var n=a("3b92"),o=a.n(n);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("45fc"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[t.isLoggedIn?a("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-chart-bar")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[a("router-link",{attrs:{to:"/",tag:"nav"}},[t._v("Comparisone")])],1)],1)],1),a("v-list-group",{attrs:{"sub-group":"","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("Database")])],1)]},proxy:!0}],null,!1,3699038733)},[a("v-list-item",[a("router-link",{attrs:{to:"/admin/package"}},[a("v-list-item-title",[t._v("Packages")]),a("v-list-item-action",[a("v-icon")],1)],1)],1),a("v-list-item",[a("router-link",{attrs:{to:"/admin/material"}},[a("v-list-item-title",[t._v("Materials")]),a("v-list-item-action",[a("v-icon")],1)],1)],1),a("v-list-item",[a("router-link",{attrs:{to:"/admin/groups"}},[a("v-list-item-title",[t._v("Package groups")]),a("v-list-item-action",[a("v-icon")],1)],1)],1)],1)],1)],1):t._e(),a("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",[t._v("Application")]),a("v-spacer"),t.isLoggedIn?t._e():a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",to:"/login"}},[t._v(" Login "),a("v-icon",[t._v("mdi-login-variant")])],1),t.isLoggedIn?a("v-btn",{staticClass:"ma-2",attrs:{color:"primary"},on:{click:t.logout}},[t._v(" Logout "),a("v-icon",[t._v("mdi-logout")])],1):t._e()],1),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center"},[a("router-view")],1)],1)],1)],1),a("v-footer",{attrs:{color:"indigo",app:""}},[a("span",{staticClass:"white--text"},[t._v("© 2020")])])],1)},i=[],s=(a("d3b7"),{data:function(){return{drawer:null,is_admin:null}},computed:{isLoggedIn:function(){return this.isAdmin(),this.$store.getters.isLoggedIn}},methods:{isAdmin:function(){this.is_admin=localStorage.is_admin},logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")}))}},created:function(){this.$http.interceptors.response.use(void 0,(function(t){return new Promise((function(){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch("logout"),t}))}))}}),l=s,c=a("2877"),r=Object(c["a"])(l,o,i,!1,null,null,null),d=r.exports,u=(a("f9e3"),a("2dd8"),a("5f5b")),m=a("b1e0"),p=a("8c4f"),v=a("1321"),f=a.n(v),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",to:"/register"}},[t._v(" New user "),a("v-icon",[t._v("mdi-register")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.packfull,"sort-by":"ID","single-expand":t.singleExpand,expanded:t.expanded,"item-key":"name","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Packages")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[t._v("New item")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Package name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),t._l(t.editedItem.materials,(function(e,n){return a("div",{key:n},[a("v-text-field",{attrs:{label:e.name+", (kg)"},model:{value:t.editedItem.materials[n].mass,callback:function(e){t.$set(t.editedItem.materials[n],"mass",e)},expression:"editedItem.materials[mat_key].mass"}}),a("br"),t._l(e.ecolcharacts,(function(e,o){return a("v-text-field",{key:o,staticClass:"ml-5",attrs:{label:e.name+", ("+e.measure+")"},model:{value:t.editedItem.materials[n].ecolcharacts[o].value,callback:function(e){t.$set(t.editedItem.materials[n].ecolcharacts[o],"value",e)},expression:"editedItem.materials[mat_key].ecolcharacts[eco_key].value"}})})),a("br")],2)})),a("div",t._l(t.editedItem.ecolkoeff,(function(e,n){return a("v-text-field",{key:n,attrs:{label:t.editedItem.materials[0].ecolcharacts[n].name+" criteria"},model:{value:t.editedItem.ecolkoeff[n].value,callback:function(e){t.$set(t.editedItem.ecolkoeff[n],"value",e)},expression:"editedItem.ecolkoeff[koeff_key].value"}})})),1)],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save(t.onInsert,t.onEdit)}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{big:""},on:{click:function(e){return t.editItem(n)}}},[t._v(" mdi-pencil-outline ")]),a("v-icon",{attrs:{big:""},on:{click:function(e){return t.deleteItem(n,t.onDelete)}}},[t._v(" mdi-delete-circle-outline ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.getPackages}},[t._v("Reset")])]},proxy:!0},{key:"expanded-item",fn:function(e){e.headers;var n=e.item;return[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",t._l(n.materials,(function(e,n){return a("v-list-item-title",{key:n},[t._v(" "+t._s(e.name)+" : "+t._s(e.mass)+", (kg) "),t._l(e.ecolcharacts,(function(e,n){return a("v-list-item-subtitle",{key:n},[t._v(t._s(e.name)+" : "+t._s(e.value)+", ("+t._s(e.measure)+")")])}))],2)})),1)],1)]}}])})],1)},g=[],k=(a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("bc3a")),_=a.n(k),b={name:"adminpanel",data:function(){return{expanded:[],dialog:!1,singleExpand:!0,headers:[{text:"Package name",align:"left",sortable:!1,value:"name"},{text:"ID",value:"id"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{pack_name:"",idpack:""},defaultItem:{pack_name:""},packages:[],materials:[],weight:[],ecolchar:[],ecolkoeff:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},packfull:function(){if(null==this.packages&&null==this.materials&&null==this.weight)return null;var t=this;return this.packages.map((function(e){return{id:e.idpack,name:e.pack_name,ecolkoeff:t.ecolkoeff,materials:t.materials.map((function(a){var n=0;t.weight.forEach((function(t){t.fk_id_pack==e.idpack&&t.fk_id_material==a.idmaterials&&(n=t.material_weight)}));var o=[];return t.ecolchar.forEach((function(t){if(t.fk_id_material==a.idmaterials){var e={idecol:t.idecol,name:t.ecol_name,value:t.ecol_value,measure:t.ecol_measure};o.push(e)}})),{idmaterials:a.idmaterials,name:a.material_name,mass:n,ecolcharacts:o}}))}}))}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getData()},methods:{getData:function(){this.getPackages(),this.getMaterials(),this.getWeight(),this.getEcolchar(),this.getEcolkoeff()},editItem:function(t){this.editedIndex=t.id,this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t,e){var a=this.packages.indexOf(t.id);confirm("Are you sure you want to delete this item?")&&this.packages.splice(a,1),e(t)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(t,e){this.editedIndex>-1?(Object.assign(this.packages[this.editedIndex],this.editedItem),e(this.editedItem)):(this.packages.push(this.editedItem),t(this.editedItem)),this.close()},onInsert:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/insert"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onEdit:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/edit"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onDelete:function(t){var e=window.location.hostname;_.a.post("http://".concat(e,":3000/posts/delete"),t).then((function(t){console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},getPackages:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts")).then((function(e){console.log(e),t.packages=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getMaterials:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBmaterials")).then((function(e){console.log(e),t.materials=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getWeight:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBweight")).then((function(e){console.log(e),t.weight=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getEcolchar:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBecolchar")).then((function(e){console.log(e),t.ecolchar=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getEcolkoeff:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBecolkoeff")).then((function(e){console.log(e),t.ecolkoeff=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))}}},x=b,w=(a("6644"),Object(c["a"])(x,h,g,!1,null,null,null)),I=w.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"comparisone"}},[a("router-view"),a("b-container",{staticClass:"mt-2"},[a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:t.packGroups,"item-value":"packs","item-text":"name","menu-props":{maxHeight:"400"},label:"Select",outlined:"",hint:"Select an existing package group","persistent-hint":""},model:{value:t.selectedGroup,callback:function(e){t.selectedGroup=e},expression:"selectedGroup"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:t.selectedGroup,"item-value":"idpack","item-text":"pack_name","menu-props":{maxHeight:"400"},label:"Select",multiple:"",chips:"",outlined:"",hint:"Pick more than 1 package","persistent-hint":""},model:{value:t.selectedPack,callback:function(e){t.selectedPack=e},expression:"selectedPack"}})],1)],1)],1),a("v-col",[a("hr"),a("v-subheader",{domProps:{textContent:t._s("Create a new package group")}}),a("b-button",{attrs:{size:"md",variant:"outline-dark"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("New comparisone")]),a("v-divider",{staticClass:"mx-10",attrs:{inset:!1,vertical:""}}),a("hr"),a("b-button",{attrs:{size:"lg",variant:"outline-dark"},on:{click:function(e){return t.calc()}}},[t._v("Calculate")])],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Select packages for new comparisone")])]),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Comparisone name",hint:"You can fill this field later, if you decide to save comparisone","persistent-hint":""},model:{value:t.newGroup.groupName,callback:function(e){t.$set(t.newGroup,"groupName",e)},expression:"newGroup.groupName"}}),a("hr"),a("v-autocomplete",{attrs:{items:t.packages,"return-object":"","item-text":"pack_name",outlined:"",dense:"",label:"Packages",multiple:""},model:{value:t.selectedGroup,callback:function(e){t.selectedGroup=e},expression:"selectedGroup"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{absolute:!0,left:!0,color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"light-blue lighten-4",disabled:t.btnSaveSelection},on:{click:function(e){return t.saveGroup()}}},[t._v("Save group")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.createGroup}},[t._v("Save")])],1)],1)],1),a("b-col",{attrs:{cols:"8"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center py-6"},[a("h1",{staticClass:"font-weight-bold display-3 basil--text"},[t._v("Comparisone result")])]),a("v-tabs",{attrs:{"background-color":"transparent",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return a("v-tab",{key:e},[t._v(t._s(e))])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("apexchart",{attrs:{type:"bar",options:t.chart1.chartOptions,series:t.chart1.series}})],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("apexchart",{attrs:{type:"radar",options:t.chart2.chartOptions,series:t.chart1.series}})],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}})],1)],1)],1)],1)],1)],1)],1)},D=[],S={name:"comparisone",data:function(){return{tab:null,tabs:["Bar chart","Radar chart","Table"],packages:[],selectedPack:[],packGroups:[],selectedGroup:void 0,btnSaveSelection:!1,newGroup:{groupName:"",packIDs:[]},dialog:!1,chart1:{series:[],chartOptions:{chart:{type:"bar",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!1,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},legend:{show:!0,formatter:function(t){return t},fontSize:"16px"},plotOptions:{bar:{dataLabels:{position:"center"},horizontal:!1,columnWidth:"95%"}},dataLabels:{enabled:!0,dropShadow:{enabled:!0,left:2,top:2,opacity:.5},style:{fontSize:"18px"}},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:["Energy, MJ","CO2, m^3","Water, l","Oil consumption, l","Garbage, kg","Water consumption, l","Total index"]},yaxis:{max:1,min:0,tickAmount:6,decimalsInFloat:2,title:{text:"Relative values of environmental characteristics",style:{fontSize:"15px"}}},fill:{opacity:1}}},chart2:{chartOptions:{chart:{height:350,type:"radar",dropShadow:{enabled:!0,blur:1,left:1,top:1}},title:{text:"Relative values of environmental characteristics",align:"center",margin:10,offsetY:50,style:{fontSize:"15px"}},stroke:{width:2},fill:{opacity:.1},markers:{size:5},xaxis:{categories:["Energy, MJ","CO2, m^3","Water, l","Oil consumption, l","Garbage, kg","Water consumption, l","Total index"],labels:{style:{colors:[],fontSize:"16px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-xaxis-label"}}},yaxis:{max:1,min:0,tickAmount:8,decimalsInFloat:2,labels:{style:{fontSize:"15px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-yaxis-label"}}}}}}},watch:{selectedGroup:function(){this.selectedPack=[];var t=[];this.selectedGroup.map((function(e){t.push(e.idpack)})),this.newGroup.packIDs=t},dialog:function(t){t||this.close()}},created:function(){this.getData()},methods:{getData:function(){this.getPackages(),this.getGroups()},getPackages:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts")).then((function(e){t.packages=e.data})).catch((function(t){alert(t+"\n Ошибка подключения к базе данных"),console.log("-----error-------"),console.log(t)}))},getGroups:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/groups")).then((function(e){t.packGroups=e.data})).catch((function(t){alert(t+"\n Ошибка подключения к базе данных"),console.log("-----error-------"),console.log(t)}))},calc:function(){var t=this,e=window.location.hostname,a=t.selectedPack;_.a.post("http://".concat(e,":3000/posts/calc"),{params:{ID:a}}).then((function(e){t.chart1.series=e.data})).catch((function(t){console.log("-----error-------"),console.log(t)}))},saveGroup:function(){var t=this,e=this,a=window.location.hostname;this.dialog=!1,_.a.post("http://".concat(a,":3000/posts/newGroup"),e.newGroup).then((function(e){console.log(e),t.getData()})).catch((function(t){console.log("-----error-------"),console.log(t)}))},createGroup:function(){var t=[];this.selectedGroup.map((function(e){t.push(e.idpack)})),this.selectedPack=t,this.dialog=!1},close:function(){this.dialog=!1}}},O=S,P=Object(c["a"])(O,y,D,!1,null,null,null),G=P.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Authorization")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Login",name:"login",type:"text"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.submit}},[t._v("Login")])],1)],1)],1)],1)},E=[],$={data:function(){return{login:"",password:""}},methods:{submit:function(){var t=this,e=this.login,a=this.password;this.$store.dispatch("login",{login:e,password:a}).then((function(){return t.$router.push("/")})).catch((function(t){return console.log(t)}))}}},T=$,j=Object(c["a"])(T,C,E,!1,null,null,null),F=j.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v("Registration")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("div",[a("v-text-field",{attrs:{label:"Login","hide-details":"auto",id:"login",type:"login",required:""},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}})],1),a("div",[a("v-text-field",{attrs:{label:"Password","hide-details":"auto",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",[a("v-text-field",{attrs:{label:"Confirm Password","hide-details":"auto",id:"password-confirm",type:"password",required:""},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1),a("div",[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",type:"submit"}},[t._v(" Register "),a("v-icon",[t._v("mdi-register")])],1)],1)])])},B=[],M={data:function(){return{login:"",password:"",password_confirmation:"",is_admin:null}},methods:{register:function(){var t=this,e={login:this.login,password:this.password,is_admin:this.is_admin};this.$store.dispatch("register",e).then((function(){return t.$router.push("/")})).catch((function(t){return console.log(t)}))}}},N=M,z=Object(c["a"])(N,A,B,!1,null,null,null),L=z.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.packfull,"sort-by":"ID","single-expand":t.singleExpand,expanded:t.expanded,"item-key":"name","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Packages")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"900px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[t._v("New item")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),-1==t.editedIndex?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Package name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),a("v-autocomplete",{attrs:{items:t.material_for_select,outlined:"",dense:"",label:"Materials",multiple:""},model:{value:t.select_materials,callback:function(e){t.select_materials=e},expression:"select_materials"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers_material,items:t.material_items_for_table,"sort-by":"ID","single-expand":t.singleExpand,expanded:t.expanded1,"item-key":"name","show-expand":""},on:{"update:expanded":function(e){t.expanded1=e}},scopedSlots:t._u([{key:"item.value",fn:function(e){return[a("v-edit-dialog",{attrs:{"return-value":e.item.value,large:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"value",a)},"update:return-value":function(a){return t.$set(e.item,"value",a)},save:t.saveInput,cancel:t.cancelInput,open:t.openInput,close:t.closeInput},scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.item.value,callback:function(a){t.$set(e.item,"value",a)},expression:"props.item.value"}})]},proxy:!0}],null,!0)},[a("div",[t._v(t._s(e.value))])])]}},{key:"expanded-item",fn:function(e){e.kk;var n=e.item;return[a("v-list-item",[a("v-list-item-content",t._l(n.ecols[n.name],(function(e,n){return a("v-list-item-title",{key:n},[t._v(" "+t._s(n)+" : "+t._s(e)+" ")])})),1)],1)]}}],null,!1,3934596499)})],1)],1)],1)],1):t._e(),t.editedIndex>=0?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{label:"Package name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),t._l(t.editedItem.materials,(function(e,n){return a("div",{key:n},[t.editedItem.materials[n].mass>0?[a("v-text-field",{attrs:{label:e.name+", (kg)"},model:{value:t.editedItem.materials[n].mass,callback:function(e){t.$set(t.editedItem.materials[n],"mass",e)},expression:"editedItem.materials[mat_key].mass"}})]:t._e()],2)}))],2)],1)],1)],1):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save(t.onInsert,t.onEdit)}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{big:""},on:{click:function(e){return t.editItem(n)}}},[t._v("mdi-pencil-outline")]),a("v-icon",{attrs:{big:""},on:{click:function(e){return t.deleteItem(n,t.onDelete)}}},[t._v("mdi-delete-circle-outline")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.getPackages}},[t._v("Reset")])]},proxy:!0},{key:"expanded-item",fn:function(e){e.headers;var n=e.item;return t._l(n.materials,(function(e,n){return a("v-list-item-title",{key:n,attrs:{"two-line":""}},[e.mass>0?[t._v(" "+t._s(e.name)+" : "+t._s(e.mass)+", (kg) "),t._l(e.ecolcharacts,(function(e,n){return a("v-list-item-subtitle",{key:n},[t._v(t._s(e.name)+" : "+t._s(e.value)+", ("+t._s(e.measure)+")")])})),a("v-divider",{attrs:{inset:""}})]:t._e()],2)}))}}])})],1)},R=[],W=(a("b0c0"),{name:"adminpanel",data:function(){return{expanded:[],expanded1:[],snack:!1,snackColor:"",snackText:"",dialog:!1,singleExpand:!0,headers:[{text:"Package name",align:"left",sortable:!1,value:"name"},{text:"ID",value:"id"},{text:"Actions",value:"action",sortable:!1}],headers_material:[{text:"Material name",align:"left",sortable:!1,value:"name"},{text:"value",value:"value"}],editedIndex:-1,editedItem:{pack_name:"",idpack:""},defaultItem:{pack_name:""},packages:[],materials:[],select_materials:[],weight:[],ecolchar:[],ecolvalue:[],ecoldict:[]}},computed:{ecol_pack_material:function(){var t=this,e={};return this.materials.forEach((function(a){e[a.material_name]={},t.ecolchar.forEach((function(t){a.idmaterials==t.fk_materials&&(e[a.material_name][t.ecol_name]=t.ecol_value)}))})),e},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},material_items_for_table:function(){var t=this,e=0;return this.select_materials.map((function(a){return t.materials.forEach((function(t){t.material_name==a&&(e=t.idmaterials)})),{name:a,value:0,ecols:t.ecol_pack_material,id:e}}))},material_for_select:function(){return this.materials.map((function(t){return t.material_name}))},packfull:function(){if(null==this.packages&&null==this.materials&&null==this.weight)return null;var t=this;return this.packages.map((function(e){return{id:e.idpack,name:e.pack_name,ecolvalue:t.ecolvalue,materials:t.materials.map((function(a){var n=[];t.ecolchar.forEach((function(t){if(t.fk_materials==a.idmaterials){var e={idecol:t.idecol,name:t.ecol_name,value:t.ecol_value,measure:t.ecol_measure};n.push(e)}}));var o=0;return t.weight.forEach((function(t){t.fk_packaging==e.idpack&&t.fk_materials==a.idmaterials&&(o=t.material_weight)})),{idmaterials:a.idmaterials,name:a.material_name,mass:o,ecolcharacts:n}}))}}))}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getData()},methods:{getData:function(){this.getPackages(),this.getMaterials(),this.getWeight(),this.getEcolchar(),this.getEcolvalue(),this.getEcolDict()},saveInput:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancelInput:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},openInput:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},closeInput:function(){console.log("Dialog closed")},editItem:function(t){this.editedIndex=this.packfull.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t,e){var a=this.packfull.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.packages.splice(a,1),e(t)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(t,e){if(this.editedIndex>-1)Object.assign(this.packages[this.editedIndex],this.editedItem),e(this.editedItem);else{this.packages.push(this.editedItem);var a={name:this.editedItem.name,materials:this.material_items_for_table.map((function(t){return{name:t.name,value:t.value,id:t.id}}))};t(a)}this.close()},onInsert:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/insert"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onEdit:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/edit"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onDelete:function(t){var e=window.location.hostname;_.a.post("http://".concat(e,":3000/posts/delete"),t).then((function(t){console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},getPackages:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts")).then((function(e){console.log(e),t.packages=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getMaterials:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBmaterials")).then((function(e){console.log(e),t.materials=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getWeight:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBweight")).then((function(e){console.log(e),t.weight=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getEcolchar:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBecolchar")).then((function(e){console.log(e),t.ecolchar=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getEcolvalue:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBecolvalue")).then((function(e){console.log(e),t.ecolvalue=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getEcolDict:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/ecol_dict")).then((function(e){console.log(e),t.ecoldict=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))}}}),J=W,H=(a("18a5"),Object(c["a"])(J,q,R,!1,null,null,null)),Y=H.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.packfull,"sort-by":"ID","single-expand":t.singleExpand,expanded:t.expanded,"item-key":"name","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Materials")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[t._v("New material")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),-1==t.editedIndex?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Material name"},model:{value:t.editedItem.name_material,callback:function(e){t.$set(t.editedItem,"name_material",e)},expression:"editedItem.name_material"}}),t._l(t.ecoldict,(function(e,n){return a("div",{key:n},[a("v-text-field",{attrs:{label:e.ecol_name+", ("+e.ecol_measure+")"},model:{value:t.editedItem[e.ecol_name],callback:function(a){t.$set(t.editedItem,e.ecol_name,a)},expression:"editedItem[eco.ecol_name]"}})],1)}))],2)],1)],1)],1):t._e(),t.editedIndex>=0?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{label:"Material name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),t._l(t.editedItem.ecolcharacts,(function(e,n){return a("div",{key:n},[a("v-text-field",{attrs:{label:e.name+", ("+e.measure+")"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"eco.value"}})],1)}))],2)],1)],1)],1):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save(t.onInsert,t.onEdit)}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{big:""},on:{click:function(e){return t.editItem(n)}}},[t._v("mdi-pencil-outline")]),a("v-icon",{attrs:{big:""},on:{click:function(e){return t.deleteItem(n,t.onDelete)}}},[t._v("mdi-delete-circle-outline")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.getData}},[t._v("Reset")])]},proxy:!0},{key:"expanded-item",fn:function(e){e.headers;var n=e.item;return[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",t._l(n.ecolcharacts,(function(e,n){return a("v-list-item-title",{key:n},[t._v(t._s(e.name)+" : "+t._s(e.value)+", ("+t._s(e.measure)+")")])})),1)],1)]}}])})],1)},K=[],Q={name:"adminpanel",data:function(){return{expanded:[],dialog:!1,singleExpand:!0,headers:[{text:"Material name",align:"left",sortable:!1,value:"name"},{text:"ID",value:"idmaterials"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{},defaultItem:{},materials:[],ecolchar:[],ecoldict:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New material":"Edit material"},packfull:function(){if(null==this.materials&&null==this.ecolchar)return null;var t=this;return t.materials.map((function(e){var a=[];return t.ecolchar.forEach((function(t){if(t.fk_materials==e.idmaterials){var n={idecol:t.idecol,name:t.ecol_name,value:t.ecol_value,measure:t.ecol_measure};a.push(n)}})),{idmaterials:e.idmaterials,name:e.material_name,ecolcharacts:a}}))}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getData()},methods:{getData:function(){this.getMaterials(),this.getEcolchar(),this.getEcolDict()},editItem:function(t){this.editedIndex=this.packfull.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t,e){var a=this.packfull.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.materials.splice(a,1),e(t)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(t,e){this.editedIndex>-1?(Object.assign(this.materials[this.editedIndex],this.editedItem),e(this.editedItem)):(this.materials.push(this.editedItem),t(this.editedItem)),this.close()},onInsert:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/insertMaterial"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onEdit:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/editMaterial"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onDelete:function(t){var e=window.location.hostname;_.a.post("http://".concat(e,":3000/posts/deleteMaterial"),t).then((function(t){console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},getEcolchar:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBecolchar")).then((function(e){console.log(e),t.ecolchar=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getMaterials:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/DBmaterials")).then((function(e){console.log(e),t.materials=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))},getEcolDict:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/ecol_dict")).then((function(e){console.log(e),t.ecoldict=e.data})).catch((function(t){alert(t+"\n Failed connect to DB"),console.log("-----error-------"),console.log(t)}))}}},U=Q,X=(a("5221"),Object(c["a"])(U,V,K,!1,null,null,null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.packGroups,"sort-by":"idgroup","single-expand":t.singleExpand,expanded:t.expanded,"item-key":"name","show-expand":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Groups")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[t._v("New group")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),-1==t.editedIndex?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Group name"},model:{value:t.newGroup.groupName,callback:function(e){t.$set(t.newGroup,"groupName",e)},expression:"newGroup.groupName"}}),a("hr"),a("v-autocomplete",{attrs:{items:t.packages,"item-text":"pack_name","item-value":"idpack",outlined:"",dense:"",label:"Packages",multiple:""},model:{value:t.newGroup.packIDs,callback:function(e){t.$set(t.newGroup,"packIDs",e)},expression:"newGroup.packIDs"}})],1)],1)],1)],1):t._e(),t.editedIndex>=0?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Group name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),a("hr"),a("v-autocomplete",{attrs:{items:t.packages,"item-text":"pack_name","item-value":"idpack",outlined:"",dense:"",label:"Packages",multiple:""},model:{value:t.editedItem.packs,callback:function(e){t.$set(t.editedItem,"packs",e)},expression:"editedItem.packs"}})],1)],1)],1)],1):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.save(t.onInsert,t.onEdit)}}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{big:""},on:{click:function(e){return t.deleteItem(n,t.onDelete)}}},[t._v("mdi-delete-circle-outline")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.getData}},[t._v("Reset")])]},proxy:!0},{key:"expanded-item",fn:function(e){e.headers;var n=e.item;return[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",t._l(n.packs,(function(e,n){return a("v-list-item-title",{key:n},[t._v("ID: "+t._s(e.idpack)+", Name: "+t._s(e.pack_name))])})),1)],1)]}}])})],1)},et=[],at={name:"adminpanel",data:function(){return{expanded:[],dialog:!1,singleExpand:!0,headers:[{text:"Group name",align:"left",sortable:!1,value:"name"},{text:"ID",value:"idgroup"},{text:"Actions",value:"action",sortable:!1}],editedIndex:-1,editedItem:{},defaultItem:{},packGroups:[],newGroup:{groupName:"",packIDs:[]},packages:[],selectedGroup:void 0}},computed:{formTitle:function(){return-1===this.editedIndex?"New group":"Edit group"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.getData()},methods:{getData:function(){this.getGroups(),this.getPackages()},editItem:function(t){this.editedIndex=this.packGroups.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t,e){var a=this.packGroups.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.packGroups.splice(a,1),e(t)},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(t,e){this.editedIndex>-1?(Object.assign(this.packGroups[this.editedIndex],this.editedItem),e(this.editedItem)):(this.packGroups.push(this.editedItem),t(this.editedItem)),this.close()},onInsert:function(){var t=this,e=window.location.hostname;_.a.post("http://".concat(e,":3000/posts/newGroup"),this.newGroup).then((function(e){t.getData(),console.log(e)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onEdit:function(t){var e=this,a=window.location.hostname;_.a.post("http://".concat(a,":3000/posts/editGroup"),t).then((function(t){e.getData(),console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},onDelete:function(t){var e=window.location.hostname;_.a.post("http://".concat(e,":3000/posts/deleteGroup"),t).then((function(t){console.log(t)})).catch((function(t){alert(t+"\n Failed to POST on server"),console.log("-----error-------"),console.log(t)}))},getPackages:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts")).then((function(e){t.packages=e.data})).catch((function(t){alert(t+"\n Ошибка подключения к базе данных"),console.log("-----error-------"),console.log(t)}))},getGroups:function(){var t=this,e=window.location.hostname;_.a.get("http://".concat(e,":3000/posts/groups")).then((function(e){t.packGroups=e.data})).catch((function(t){alert(t+"\n Ошибка подключения к базе данных"),console.log("-----error-------"),console.log(t)}))}}},nt=at,ot=(a("088b"),Object(c["a"])(nt,tt,et,!1,null,null,null)),it=ot.exports,st=a("2f62");n["default"].use(st["a"]);var lt=new st["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{}},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e,a){t.status="success",t.token=e,t.user=a},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""}},actions:{login:function(t,e){var a=t.commit;return new Promise((function(t,n){a("auth_request"),_.a.post("http://localhost:3000/posts/login",e).then((function(e){var n=e.data.token,o=e.data.user;localStorage.setItem("token",n),localStorage.setItem("is_admin",JSON.stringify(e.data.user.is_admin)),_.a.defaults.headers.common["Authorization"]=n,a("auth_success",n,o),t(e)})).catch((function(t){a("auth_error"),localStorage.removeItem("token"),n(t)}))}))},register:function(t,e){var a=t.commit;return new Promise((function(t,n){a("auth_request"),_()({url:"http://localhost:3000/register",data:e,method:"POST"}).then((function(e){var n=e.data.token,o=e.data.user;localStorage.setItem("token",n),_.a.defaults.headers.common["Authorization"]=n,a("auth_success",n,o),t(e)})).catch((function(t){a("auth_error",t),localStorage.removeItem("token"),n(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t){e("logout"),localStorage.removeItem("token"),delete _.a.defaults.headers.common["Authorization"],t()}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}}),ct=a("ce5b"),rt=a.n(ct);a("bf40"),a("5363");n["default"].use(rt.a);var dt={},ut=new rt.a(dt);n["default"].use(u["a"]),n["default"].use(m["a"]),n["default"].use(p["a"]),n["default"].component("apexchart",f.a),n["default"].prototype.$http=_.a;var mt=localStorage.getItem("token");mt&&(n["default"].prototype.$http.defaults.headers.common["Authorization"]=mt);var pt=[{path:"/admin/package",component:Y,name:"packages",meta:{requiresAuth:!0,is_admin:!0}},{path:"/admin/material",component:Z,name:"materials",meta:{requiresAuth:!0,is_admin:!0}},{path:"/admin/groups",component:it,name:"Groups",meta:{requiresAuth:!0,is_admin:!0}},{path:"/AdminPanel",component:I,name:"adminpanel",meta:{requiresAuth:!0,is_admin:!0}},{path:"/",component:G,name:"comparisone",meta:{requiresAuth:!0}},{path:"/login",component:F},{path:"/register",component:L},{path:"*",redirect:"/"}],vt=new p["a"]({routes:pt,mode:"history"});vt.beforeEach((function(t,e,a){var n=JSON.parse(localStorage.getItem("is_admin"));if(t.matched.some((function(t){return t.meta.is_admin})))1==n?a():alert("access denied");else if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(lt.getters.isLoggedIn)return void a();a("/login")}else a()})),new n["default"]({vuetify:ut,router:vt,store:lt,render:function(t){return t(d)}}).$mount("#app")},6644:function(t,e,a){"use strict";var n=a("a453"),o=a.n(n);o.a},a453:function(t,e,a){},dde7:function(t,e,a){}});
//# sourceMappingURL=app.ec103a08.js.map